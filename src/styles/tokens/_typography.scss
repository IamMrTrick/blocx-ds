/* ===== Typography ===== */
:root {
  /* === Fallback: Fixed sizes === */
  --heading-01-size: 3rem;      /* 48px */
  --heading-02-size: 2.25rem;   /* 36px */
  --heading-03-size: 1.75rem;   /* 28px */
  --heading-04-size: 1.5rem;    /* 24px */
  --heading-05-size: 1.25rem;   /* 20px */
  --heading-06-size: 1.125rem;  /* 18px */
  --text-xl-size: 1.125rem;     /* 18px */
  --text-lg-size: 1rem;         /* 16px */
  --text-md-size: 0.875rem;     /* 14px */
  --text-sm-size: 0.75rem;      /* 12px */
  --text-xs-size: 0.625rem;     /* 10px */
  --text-xxs-size: 0.5rem;      /* 8px */
  --font-size-base: 1rem;       /* 16px - Base font size */

  /* Line-heights unchanged */
  --heading-01-line: var(--spacing-56);
  --heading-02-line: var(--spacing-44);
  --heading-03-line: var(--spacing-36);
  --heading-04-line: var(--spacing-32);
  --heading-05-line: var(--spacing-28);
  --heading-06-line: var(--spacing-24);
  --text-xl-line: var(--spacing-28);
  --text-lg-line: var(--spacing-24);
  --text-md-line: var(--spacing-20);
  --text-sm-line: var(--spacing-16);
  --text-xs-line: var(--spacing-14);
  --text-xxs-line: var(--spacing-12);
  --line-height-normal: 1.5;        /* Normal line height */
  --line-height-snug: 1.375;        /* Snug line height for headings */

  /* Font families */
  --font-family-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-family-mono: 'JetBrains Mono', 'Fira Code', 'Monaco', 'Cascadia Code', monospace;
  --font-family-serif: Georgia, 'Times New Roman', serif;

  /* Font weights */
  --font-weight-light: 300;
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;
  --font-weight-extrabold: 800;
  --font-weight-black: 900;

  /* Letter spacing */
  --letter-spacing-tight: -0.025em;
  --letter-spacing-normal: 0;
  --letter-spacing-wide: 0.025em;
  --letter-spacing-wider: 0.05em;
  --letter-spacing-widest: 0.1em;

  /* === Aliases used in some components === */
  --text-xs: var(--text-xs-size);
  --text-sm: var(--text-sm-size);
  --text-base: var(--text-lg-size);
  --text-lg: var(--text-xl-size);
}

/* === Step 1: Upgrade to fluid sizes with max() / min() === */
@supports (font-size: max(1px, 2px)) {
  :root {
    --heading-01-size: max(2.25rem, min(calc(1.5rem + 2vw), 3rem));
    --heading-02-size: max(1.75rem, min(calc(1.25rem + 1.5vw), 2.25rem));
    --heading-03-size: max(1.5rem, min(calc(1.125rem + 1.25vw), 1.75rem));
    --heading-04-size: max(1.25rem, min(calc(1rem + 1vw), 1.5rem));
    --heading-05-size: max(1.125rem, min(calc(0.875rem + 0.75vw), 1.25rem));
    --heading-06-size: max(1rem, min(calc(0.875rem + 0.5vw), 1.125rem));
    --text-xl-size: max(1rem, min(calc(0.875rem + 0.5vw), 1.125rem));
    --text-lg-size: max(0.9375rem, min(calc(0.875rem + 0.25vw), 1rem));
    --text-md-size: max(0.8125rem, min(calc(0.75rem + 0.25vw), 0.875rem));
    --text-sm-size: max(0.6875rem, min(calc(0.625rem + 0.25vw), 0.75rem));
    --text-xs-size: max(0.5625rem, min(calc(0.5rem + 0.25vw), 0.625rem));
    --text-xxs-size: max(0.4375rem, min(calc(0.375rem + 0.25vw), 0.5rem));
    --font-size-base: max(0.9375rem, min(calc(0.875rem + 0.25vw), 1rem));
  }
}

/* === Step 2: Upgrade to clamp() if supported === */
@supports (font-size: clamp(1rem, 2vw, 3rem)) {
  :root {
    --heading-01-size: clamp(2.25rem, 1.5rem + 2vw, 3rem);
    --heading-02-size: clamp(1.75rem, 1.25rem + 1.5vw, 2.25rem);
    --heading-03-size: clamp(1.5rem, 1.125rem + 1.25vw, 1.75rem);
    --heading-04-size: clamp(1.25rem, 1rem + 1vw, 1.5rem);
    --heading-05-size: clamp(1.125rem, 0.875rem + 0.75vw, 1.25rem);
    --heading-06-size: clamp(1rem, 0.875rem + 0.5vw, 1.125rem);
    --text-xl-size: clamp(1rem, 0.875rem + 0.5vw, 1.125rem);
    --text-lg-size: clamp(0.9375rem, 0.875rem + 0.25vw, 1rem);
    --text-md-size: clamp(0.8125rem, 0.75rem + 0.25vw, 0.875rem);
    --text-sm-size: clamp(0.6875rem, 0.625rem + 0.25vw, 0.75rem);
    --text-xs-size: clamp(0.5625rem, 0.5rem + 0.25vw, 0.625rem);
    --text-xxs-size: clamp(0.4375rem, 0.375rem + 0.25vw, 0.5rem);
    --font-size-base: clamp(0.9375rem, 0.875rem + 0.25vw, 1rem);
  }
}
